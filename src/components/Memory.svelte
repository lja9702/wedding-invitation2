<script lang="ts">
	import { Navigation, Pagination, A11y } from 'swiper';
	import { Swiper, SwiperSlide } from 'swiper/svelte';

	import 'swiper/css';
	import 'swiper/css/navigation';
	import 'swiper/css/pagination';

	export let isMemory = true;
	function getDayAfter(year, month, day) {
		const today = new Date();
		const dayAfter20141107 = new Date(year, month - 1, day);
		const diff = dayAfter20141107.getTime() - today.getTime();
		const diffDays = Math.ceil(diff / (1000 * 3600 * 24));
		if (diffDays > 0) {
			return `D-${diffDays}`;
		} else {
			return `D+${diffDays * -1}`;
		}
	}

	const medias = [
		{
			id: 1,
			title: '200ì¼ ë‚¨ì‚°ì—ì„œ (ìë¬¼ì‡ ì•¼ ì–´ë””ìˆë‹ˆ?)'
		},
		{
			id: 2,
			title: '2018ë…„ ìƒˆí•´ë§ì´ ì œì•¼ì˜ ì¢… ì—„ì²­ë‚œ ì¸íŒŒ ì†ì—ì„œ'
		},
		{
			id: 3,
			title: '2ì£¼ë…„ ê¸°ë…âœŒï¸'
		},
		{
			id: 4,
			title: '2019ë…„ í”„ë¼í•˜ ì¹´ë¥¼êµì—ì„œ'
		},
		{
			id: 5,
			title: '2019ë…„ ì•…ë®¤ì½˜! ì•…ë®¤ ìµœê³ ğŸ¤©'
		},
		{
			id: 6,
			title: '2020ë…„ ë´„ë§ì´ ì œì£¼ğŸŠ'
		},
		{
			id: 7,
			title: 'ì§„ì•„ì˜ ì¡¸ì—…ì‹ğŸ“'
		},
		{
			id: 8,
			title: '2020ë…„ ê°€ì„ ì œì£¼ğŸŒ´'
		},
		{
			id: 9,
			title: '2021ë…„ ìƒˆí•´ë§ì´ ì„ì´Œí˜¸ìˆ˜ì—ì„œ'
		},
		{
			id: 10,
			title: '5ì£¼ë…„ ê¸°ë…ğŸ–ï¸'
		},
		{
			id: 11,
			title: '2000ì¼ ê¸°ë…ğŸ¥°'
		},
		{
			id: 12,
			title: '2022ë…„ ì¤€ì„œ ìƒì¼ê¸°ë… ì œì£¼ğŸ‰'
		},
		{
			id: 13,
			title: '2022ë…„ ëŠ¦ê°€ì„ ì–‘ì¬ì²œì—ì„œğŸ‘'
		},
		{
			id: 14,
			title: '2022ë…„ ê²¨ìš¸ ì–‘í‰ì—ì„œâ„ï¸'
		}
	];
</script>

<div class="text-center justify-center modal-middle flex py-9 text-xl">
	<span class="px-3">ì´ì¤€ì„œ</span>
	<button on:click={() => (isMemory = !isMemory)}
		><span
			class="tooltip tooltip-open tooltip-bottom px-3 text-4xl text-primary"
			data-tip="ë‹¤ì‹œ ëˆŒëŸ¬ì„œ ëŒì•„ê°€ê¸°">{getDayAfter(2017, 1, 19)}</span
		></button
	>
	<span class="px-3">ì´ì§„ì•„</span>
</div>

<div class="mx-auto">
	<div class="mb-2">
		<Swiper
			modules={[Navigation, Pagination, A11y]}
			slidesPerView={1}
			navigation={true}
			pagination={true}
			centeredSlides={true}
			setWrapperSize={true}
		>
			{#each medias as media}
				<SwiperSlide>
					<div class="flex justify-center">
						<div>
							<img src="/images/memory/{media.id}.jpg" alt={media.id} />
							<div class="card p-4 m-5 bg-base-200 shadow-xl text-center memory-card">
								{media.title}
							</div>
						</div>
					</div>
				</SwiperSlide>
			{/each}
		</Swiper>
	</div>
</div>
